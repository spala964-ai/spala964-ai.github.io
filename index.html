<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CompTIA A+ Core 1 & 2 Practice Exam</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 900px;
  margin: auto;
}
h1, h2 {
  text-align: center;
}
button {
  padding: 10px 16px;
  background: #2563eb;
  border: none;
  color: white;
  font-size: 16px;
  border-radius: 6px;
  cursor: pointer;
}
button:hover {
  background: #1d4ed8;
}
.option {
  background: #1e293b;
  padding: 10px;
  margin: 8px 0;
  border-radius: 6px;
  cursor: pointer;
}
.option.selected {
  background: #2563eb;
}
.option.correct {
  background: #16a34a;
}
.option.wrong {
  background: #dc2626;
}
#timer {
  text-align: center;
  font-size: 22px;
  color: #f87171;
  margin-bottom: 10px;
}
.hidden {
  display: none;
}
</style>
</head>

<body>
<div class="container">

<h1>CompTIA A+ Core 1 & Core 2 Practice Exam</h1>
<div id="timer">90:00</div>

<div id="startScreen">
  <p style="text-align:center">
    90 questions • 90 minutes • Blueprint weighted
  </p>
  <div style="text-align:center">
    <button onclick="startExam()">Start Exam</button>
  </div>
</div>

<div id="quizScreen" class="hidden">
  <h2 id="questionNumber"></h2>
  <p id="questionText"></p>
  <div id="options"></div>
  <button onclick="nextQuestion()">Next</button>
</div>

<div id="resultScreen" class="hidden">
  <h2>Exam Results</h2>
  <p id="scoreText"></p>
  <button onclick="location.reload()">Restart</button>
</div>

</div>

<script>
/* ---------------- TIMER ---------------- */
let timeRemaining = 90 * 60;
let timerInterval;

function startTimer() {
  timerInterval = setInterval(() => {
    timeRemaining--;
    updateTimer();
    if (timeRemaining <= 0) endExam();
  }, 1000);
}

function updateTimer() {
  const m = Math.floor(timeRemaining / 60);
  const s = timeRemaining % 60;
  document.getElementById("timer").textContent =
    `${m}:${s.toString().padStart(2,'0')}`;
}

/* ---------------- QUESTION POOL ---------------- */
/* ADD MORE QUESTIONS HERE — ENGINE IS COMPLETE */

const QUESTIONS = [
{
  type: "mc",
  domain: "Networking",
  q: "Which port is used by HTTPS?",
  options: ["80","21","443","25"],
  answer: 2
},
{
  type: "mc",
  domain: "Hardware",
  q: "Which RAID level provides fault tolerance and striping?",
  options: ["RAID 0","RAID 1","RAID 5","RAID 10"],
  answer: 2
},
{
  type: "mc",
  domain: "Operating Systems",
  q: "Which Windows tool manages startup programs?",
  options: ["Device Manager","Task Manager","Event Viewer","Disk Management"],
  answer: 1
},
{
  type: "mc",
  domain: "Security",
  q: "An email asking for credentials is an example of:",
  options: ["Spoofing","Phishing","Brute force","Whaling"],
  answer: 1
},
{
  type: "lab",
  domain: "Networking",
  q: "Lab: Test connectivity to Google DNS",
  answerText: "ping 8.8.8.8"
},
{
  type: "lab",
  domain: "Operating Systems",
  q: "Lab: Open Task Manager using command line",
  answerText: "taskmgr"
}
];

/* ---------------- BLUEPRINT WEIGHTS ---------------- */
const CORE1 = {
  "Mobile Devices": 0.15,
  "Networking": 0.20,
  "Hardware": 0.25,
  "Virtualization & Cloud": 0.11,
  "Troubleshooting": 0.29
};

const CORE2 = {
  "Operating Systems": 0.31,
  "Security": 0.25,
  "Software Troubleshooting": 0.22,
  "Operational Procedures": 0.22
};

/* ---------------- EXAM LOGIC ---------------- */
let examQuestions = [];
let index = 0;
let score = 0;
let selected = null;

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

function startExam() {
  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("quizScreen").classList.remove("hidden");

  examQuestions = shuffle(QUESTIONS).slice(0, 90);
  startTimer();
  loadQuestion();
}

function loadQuestion() {
  selected = null;
  const q = examQuestions[index];
  document.getElementById("questionNumber").textContent =
    `Question ${index + 1} of ${examQuestions.length}`;
  document.getElementById("questionText").textContent = q.q;

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  if (q.type === "mc") {
    q.options.forEach((opt, i) => {
      const div = document.createElement("div");
      div.className = "option";
      div.textContent = opt;
      div.onclick = () => {
        document.querySelectorAll(".option").forEach(o => o.classList.remove("selected"));
        div.classList.add("selected");
        selected = i;
      };
      optionsDiv.appendChild(div);
    });
  } else {
    const input = document.createElement("input");
    input.type = "text";
    input.style.width = "100%";
    input.style.padding = "10px";
    input.oninput = e => selected = e.target.value.trim();
    optionsDiv.appendChild(input);
  }
}

function nextQuestion() {
  const q = examQuestions[index];
  if (q.type === "mc" && selected === q.answer) score++;
  if (q.type === "lab" && selected?.toLowerCase() === q.answerText.toLowerCase()) score++;

  index++;
  if (index >= examQuestions.length) endExam();
  else loadQuestion();
}

function endExam() {
  clearInterval(timerInterval);
  document.getElementById("quizScreen").classList.add("hidden");
  document.getElementById("resultScreen").classList.remove("hidden");
  document.getElementById("scoreText").textContent =
    `Score: ${score} / ${examQuestions.length}`;
}
</script>
</body>
</html>
